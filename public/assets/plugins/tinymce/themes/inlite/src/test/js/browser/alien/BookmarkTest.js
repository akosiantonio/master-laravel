asynctest("browser/alien/BookmarkTest",["ephox/tinymce","ephox.agar.api.Pipeline","ephox.agar.api.Chain","ephox.agar.api.Cursors","ephox.agar.api.Assertions","ephox.mcagar.api.TinyDom","tinymce/inlite/alien/Bookmark"],function(e,t,n,a,r,s,o){var f=arguments[arguments.length-2],i=arguments[arguments.length-1],m=function(e){var t=document.createRange();return t.setStart(e.start().dom(),e.soffset()),t.setEnd(e.finish().dom(),e.foffset()),t},u=function(e){return function(t){return o.create(e,t)}},c=function(e){return function(t){return o.resolve(e,t)}},l=function(e){return n.op(function(t){r.assertEq("Not equal startContainer",e.start().dom(),t.startContainer),r.assertEq("Not equal startOffset",e.soffset(),t.startOffset),r.assertEq("Not equal endContainer",e.finish().dom(),t.endContainer),r.assertEq("Not equal endOffset",e.foffset(),t.endOffset)})},p=function(t,r){var o=e.DOM,f=s.fromDom(o.create("div",{},t));return n.asStep(f,[a.cFollowPath(a.pathFrom(r)),n.mapper(m),n.mapper(u(o)),n.mapper(c(o)),l(a.calculate(f,a.pathFrom(r)))])};t.async({},[p("abc",{element:[0],offset:0}),p("abc",{element:[0],offset:1}),p("abc",{start:{element:[0],offset:0},finish:{element:[0],offset:1}}),p("<b>a</b>",{element:[0,0],offset:0}),p("<b>a</b>",{element:[0,0],offset:0}),p("<b>a</b>",{start:{element:[0,0],offset:0},finish:{element:[0,0],offset:1}}),p("<b>a</b><b>b</b>",{start:{element:[0,0],offset:0},finish:{element:[1,0],offset:1}})],function(){f()},i)});