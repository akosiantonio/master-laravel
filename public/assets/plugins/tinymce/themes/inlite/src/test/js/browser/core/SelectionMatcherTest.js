asynctest("browser/core/SelectionMatcherTest",["ephox.mcagar.api.TinyLoader","ephox.mcagar.api.TinyApis","ephox.agar.api.Step","ephox.agar.api.Assertions","tinymce/inlite/core/SelectionMatcher","tinymce/inlite/core/PredicateId","ephox.agar.api.GeneralSteps","ephox.agar.api.Pipeline"],function(e,t,n,a,r,i,c,o){var s=arguments[arguments.length-2],p=arguments[arguments.length-1],u=function(e,t){a.assertEq("Should not be null",null!==t,e),e===!0&&(a.assertEq("Should be matching a",t.id,"a"),a.assertEq("Should be have width",t.rect.w>0,!0))},l=function(e,t,a,i,o,s,p,l){var h=n.sync(function(){var e=r.textSelection("a")(t);u(l,e)});return c.sequence([e.sSetContent(a),e.sSetSelection(i,o,s,p),h])},h=function(e,t){return c.sequence([l(e,t,"<p>a</p>",[0],0,[0],1,!0),l(e,t,"<p>a</p>",[0],0,[0],0,!1)])},g=function(e,t,a,i,o,s,p,l){var h=n.sync(function(){var e=t.dom.getParents(t.selection.getStart()),n=r.emptyTextBlock(e,"a")(t);u(l,n)});return c.sequence([e.sSetContent(a),e.sSetSelection(i,o,s,p),h])},S=function(e,t){return c.sequence([g(e,t,"<p>a</p>",[0],0,[0],0,!1),g(e,t,"<p>a</p>",[0],0,[0],1,!1),g(e,t,"<p><br></p>",[0],0,[0],0,!0),g(e,t,"<p><em><br></em></p>",[0,0],0,[0,0],0,!0)])};e.setup(function(e,n,a){var r=t(e);o.async({},[h(r,e),S(r,e)],n,a)},{inline:!0},s,p)});